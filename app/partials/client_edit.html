<div class="container">
    <h1>
        <a href="#/">Emmi Manager</a>:&nbsp;
        <span data-ng-hide="client.id">New</span>
        <span data-ng-show="client.id">Edit</span> Client
    </h1>
    <form class="form">
        <h2>Client Information</h2>
        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label for="">Name</label>
                    <input class="form-control" data-ng-model="client.name" type="text">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label for="">Client Type</label>
                    <select class="form-control" data-ng-model="client.type"
                            data-ng-options="type for type in clientTypes">
                        <option value="">Select...</option>
                    </select>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="region">Region</label>
                    <select class="form-control" id="region" data-ng-model="client.region"
                            data-ng-options="region for region in clientRegions">
                        <option value="">Select...</option>
                    </select>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="">Tier</label>
                    <select class="form-control" data-ng-model="client.tier"
                            data-ng-options="tier for tier in clientTiers">
                        <option value="">Select...</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label for="">Contract Owner</label>
                    <select
                        class="form-control"
                        data-chosen
                        data-allow-single-deselect="true"
                        data-placeholder="Select..."
                        data-ng-model="client.contractOwner"
                        data-ng-options="owner as owner.lastName for owner in contractOwners track by owner.id">
                        <option value=""></option>
                    </select>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="">Contract Start</label>
                    <input class="form-control" type="text" data-ng-model="client.contractStart" data-autoclose="true"
                           data-dateType="iso" data-bs-datepicker>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="">Contract End</label>
                    <input class="form-control" type="text" data-ng-model="client.contractEnd" data-autoclose="true"
                           data-dateType="string" data-bs-datepicker>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" data-ng-model="client.active"/>
                        Active
                    </label>
                </div>
            </div>
        </div>
        <div class="row" data-ng-show="client.salesForceAccount">
            <div class="col-md-8">
                {{client.salesForceAccount.name}} {{client.salesForceAccount.city}}<span
                    data-ng-show="client.salesForceAccount.city && client.salesForceAccount.state">/</span>{{client.salesForceAccount.state}}
                <button class="btn btn-link" data-ng-click="changeSfAccount()">edit</button>
            </div>
        </div>
        <div class="row" data-ng-hide="client.salesForceAccount">
            <div class="col-md-8">
                <div class="form-group">
                    <label for="">Salesforce Account</label>
                    <div data-emmi-typeahead data-items="sfResult.account" data-term="searchQuery" data-search="findAccount(term)" data-select="chooseAccount(item)" data-placeholder="Start typing..." data-focus="SfSearch">
                        <div class="menu typeahead-menu dropdown-menu bottom-left container-fluid">
                            <li class="header row" data-ng-show="sfResult.account.length">
                                <div class="col-md-4 account-name">Account Name</div>
                                <div class="col-md-4 client-name">Client Name</div>
                                <div class="col-md-4 city-state">City/State</div>
                            </li>
                            <li data-emmi-typeahead-item="account" data-ng-repeat="account in sfResult.account" class="results row" data-ng-class="!account.clientName ? 'selectable' : 'unselectable'">
                                <div class="col-md-4 account-name">{{account.name}}</div>
                                <div class="col-md-4 client-name">{{account.clientName}}&nbsp;</div>
                                <div class="col-md-4 city-state">{{account.city}}<span data-ng-show="account.city && account.state">/</span>{{account.state}}&nbsp;</div>
                            </li>
                            <li data-ng-show="hasMore()" class="footer row">
                                <div class="col-md-12">Refine search for more results.</div>
                            </li>
                            <div data-ng-hide="sfResult.account.length || searchQuery.length < 3">
                                <div class="col-md-12">There are no matching accounts found.</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <hr>
        <h2>Team Tags</h2>
        <hr>
        <div class="actions pull-right">
            <div class="form-group">
                <a class="btn btn-link" href="#/clients">Cancel</a>
                <button class="btn btn-primary" type="button" data-ng-click="save()">Save</button>
            </div>
        </div>
    </form>
</div>
